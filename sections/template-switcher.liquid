{% comment %}
  Template Switcher Section - Allows switching between homepage layouts
{% endcomment %}

{% if request.design_mode %}
  <div class="template-switcher-admin" style="padding: 20px; background: #f8f9fa; border: 2px dashed #dee2e6; margin: 20px 0; text-align: center;">
    <h3 style="margin-bottom: 10px;">Homepage Template Switcher</h3>
    <p style="margin-bottom: 20px;">Choose your homepage layout:</p>
    
    <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
      <div style="padding: 20px; background: white; border: 2px solid #e9ecef; border-radius: 8px; flex: 1; max-width: 300px;">
        <h4>ðŸŽ¯ Single Product Focus</h4>
        <p>Perfect for one hero product with testimonials, FAQ, and urgency tools</p>
        <p style="color: #6c757d; font-size: 14px;">Template: index.single-product</p>
      </div>
      
      <div style="padding: 20px; background: white; border: 2px solid #e9ecef; border-radius: 8px; flex: 1; max-width: 300px;">
        <h4>ðŸ›’ Multi Product Store</h4>
        <p>Ideal for multiple collections with slideshow and featured products</p>
        <p style="color: #6c757d; font-size: 14px;">Template: index.multi-product</p>
      </div>
    </div>
    
    <div style="margin-top: 20px; padding: 15px; background: #e9ecef; border-radius: 8px;">
      <p style="margin: 0;"><strong>To switch templates:</strong></p>
      <ol style="text-align: left; max-width: 600px; margin: 10px auto 0;">
        <li>Exit the theme editor</li>
        <li>Go to Online Store â†’ Themes</li>
        <li>Click "Customize" on your theme</li>
        <li>In the page selector dropdown (top center), choose "Home page"</li>
        <li>Click "Change template" below the page selector</li>
        <li>Select either "index.single-product" or "index.multi-product"</li>
      </ol>
    </div>
    
    {% if section.settings.show_current %}
      <div style="margin-top: 20px; padding: 10px; background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 4px; color: #0c5460;">
        <p style="margin: 0;"><strong>Current Template:</strong> {{ template.name }}</p>
      </div>
    {% endif %}
  </div>
{% endif %}

{% if section.settings.template_mode == 'single' %}
  {% comment %} Load single product sections {% endcomment %}
  {% section 'hero' %}
  {% section 'icon-features' %}
  {% section 'image-with-text' %}
  {% section 'testimonials' %}
  {% section 'faq' %}
  {% section 'cta-banner' %}
  
{% elsif section.settings.template_mode == 'multi' %}
  {% comment %} Load multi product sections {% endcomment %}
  {% section 'slideshow' %}
  {% section 'featured-collection' %}
  {% section 'image-with-text' %}
  {% section 'featured-collection' %}
  {% section 'testimonials' %}
  {% section 'cta-banner' %}
{% endif %}

{% schema %}
{
  "name": "Template Switcher",
  "settings": [
    {
      "type": "header",
      "content": "Template Selection"
    },
    {
      "type": "select",
      "id": "template_mode",
      "label": "Homepage Layout",
      "options": [
        {
          "value": "single",
          "label": "Single Product Focus"
        },
        {
          "value": "multi",
          "label": "Multi Product Store"
        }
      ],
      "default": "single",
      "info": "Switch between single product and multi product layouts"
    },
    {
      "type": "checkbox",
      "id": "show_current",
      "label": "Show current template info",
      "default": true
    },
    {
      "type": "paragraph",
      "content": "Note: For full template switching, use the method described above. This section provides a quick preview of different layouts."
    }
  ],
  "presets": [
    {
      "name": "Template Switcher"
    }
  ]
}
{% endschema %}